{"remainingRequest":"/home/yd/company/demo/vue-cli3/node_modules/babel-loader/lib/index.js!/home/yd/company/demo/vue-cli3/node_modules/ts-loader/index.js??ref--13-2!/home/yd/company/demo/vue-cli3/src/pc-project/services/interfaces.ts","dependencies":[{"path":"/home/yd/company/demo/vue-cli3/src/pc-project/services/interfaces.ts","mtime":1644831193685},{"path":"/home/yd/company/demo/vue-cli3/babel.config.js","mtime":1644831193685},{"path":"/home/yd/company/demo/vue-cli3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/yd/company/demo/vue-cli3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/yd/company/demo/vue-cli3/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvaG9tZS95ZC9jb21wYW55L2RlbW8vdnVlLWNsaTMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS95ZC9jb21wYW55L2RlbW8vdnVlLWNsaTMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvaG9tZS95ZC9jb21wYW55L2RlbW8vdnVlLWNsaTMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvaG9tZS95ZC9jb21wYW55L2RlbW8vdnVlLWNsaTMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzLmpzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvaG9tZS95ZC9jb21wYW55L2RlbW8vdnVlLWNsaTMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwoKZnVuY3Rpb24gZGVjb3JhdG9yY2xhc3ModGFyZ2V0KSB7Ly8gICBjb25zb2xlLmxvZyh0YXJnZXQpOwp9Cgp2YXIgQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfUEM7IC8vIOWFqOWxgOaOpeWPo+WcsOWdgAoKdmFyIFNlcnZpY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWUpIHsKICBfaW5oZXJpdHMoU2VydmljZSwgX1Z1ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoU2VydmljZSk7CgogIGZ1bmN0aW9uIFNlcnZpY2UoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VydmljZSk7CgogICAgcmV0dXJuIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFNlcnZpY2UsIFt7CiAgICBrZXk6ICJyZXF1ZXN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXF1ZXN0KG9wdCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtcyA9IHt9OwoKICAgICAgaWYgKG9wdC5kYXRhKSB7CiAgICAgICAgcGFyYW1zID0gb3B0LmRhdGE7CiAgICAgIH0KCiAgICAgIHZhciBsb2FkaW5nID0gbnVsbDsKCiAgICAgIGlmICghb3B0Lm5vdExvYWRpbmcpIHsKICAgICAgICBsb2FkaW5nID0gdGhpcy4kbGF5ZXIubG9hZGluZygpOwogICAgICB9CgogICAgICB2YXIgdHlwZXMgPSBvcHQudHlwZSB8fCAnZ2V0JzsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNsb3ZlLCByZWplY3QpIHsKICAgICAgICB2YXIgX2F4aW9zOwoKICAgICAgICBjb25zb2xlLmxvZyhwYXJhbXMpOwogICAgICAgIGF4aW9zKChfYXhpb3MgPSB7CiAgICAgICAgICBtZXRob2Q6IHR5cGVzLAogICAgICAgICAgdXJsOiAiIi5jb25jYXQoQkFTRV9VUkwpLmNvbmNhdChvcHQudXJsKQogICAgICAgIH0sIF9kZWZpbmVQcm9wZXJ0eShfYXhpb3MsIHR5cGVzID09PSAnZ2V0JyA/ICdwYXJhbXMnIDogJ2RhdGEnLCBwYXJhbXMpLCBfZGVmaW5lUHJvcGVydHkoX2F4aW9zLCAiY2FuY2VsVG9rZW4iLCBuZXcgYXhpb3MuQ2FuY2VsVG9rZW4oZnVuY3Rpb24gKGMpIHsKICAgICAgICAgIGlmIChvcHQuY2FuY2VsKSB7CiAgICAgICAgICAgIG9wdC5jYW5jZWwoYyk7IC8vIOi/meS4quWPguaVsCBjIOWwseaYr0NhbmNlbFRva2Vu5p6E6YCg5Ye95pWw6YeM6Z2i6Ieq5bim55qE5Y+W5raI6K+35rGC55qE5Ye95pWw77yM6L+Z6YeM5oqK6K+l5Ye95pWw5b2T5Y+C5pWw55SoCiAgICAgICAgICB9CiAgICAgICAgfSkpLCBfYXhpb3MpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgcmVzbG92ZShyZXMuZGF0YSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InKTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy4kbGF5ZXIuaGlkZShsb2FkaW5nKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU2VydmljZTsKfShWdWUpOwoKU2VydmljZSA9IF9fZGVjb3JhdGUoW2RlY29yYXRvcmNsYXNzXSwgU2VydmljZSk7CmV4cG9ydCBkZWZhdWx0IFNlcnZpY2U7CmV4cG9ydCB2YXIgc2VydmljZSA9IG5ldyBTZXJ2aWNlKCk7IC8vIOWHj+WwkemhtemdouS4iiBuZXcgU2VydmljZSgp77ybIOebtOaOpeiwg+eUqCBTZXJ2aWNl6YeM6Z2i55qE5pa55rOVCgovKiog5Li+5L6LCiAqIEB1cmzmjqXlj6PlnLDlnYAKICogQGRhdGHlj4LmlbAKICogQHR5cGXor7fmsYLmlrnlvI8g6YCJ5aGrIOm7mOiupHBvc3QKICogQGNhbmNlbOaYr+WQpuWPlua2iOW9k+WJjeivt+axggogKiBAbm90TG9hZGluZ+S4jeS9v+eUqOm7mOiupOeahGxvYWRpbmflvLnlh7rlsYIKc2VydmljZS5yZXF1ZXN0KHsKICAgIHVybDogYGh0dHA6Ly8xOTIuMTY4LjIuMjIyOjgwMDUvSG90ZWwvSG90ZWxEZXRhaWxSb29tUGxhblJhdGVgLAogICAgZGF0YTp7IlRyaXBUeXBlIjoiMCJ9LAogICAgdHlwZTogJ3Bvc3QnLAogICAgY2FuY2VsOiAoYzogQ2FuY2VsZXIpID0+IHsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7IC8vIOadoeS7tgogICAgICAgIGMoJ+WPlua2iEhvdGVsRGV0YWlsUm9vbVBsYW5SYXRl55qE6K+35rGCJyk7CiAgICAgIH0sMjAwKQogICAgfQp9KTsKKi8="},{"version":3,"mappings":";;;;;;;;AAAA,SAASA,GAAT,QAAoB,wBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAIA,SAASC,cAAT,CAAwBC,MAAxB,EAAmC,CACjC;AACD;;AAOD,IAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAYC,eAA7B,C,CAA8C;;AAG9C,IAAqBC,OAAO;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,WAC1B,iBAAQC,GAAR,EAA0B;AAAA;;AACxB,UAAIC,MAAM,GAAG,EAAb;;AACA,UAAID,GAAG,CAACE,IAAR,EAAc;AACZD,cAAM,GAAGD,GAAG,CAACE,IAAb;AACD;;AACD,UAAIC,OAAO,GAAQ,IAAnB;;AACA,UAAI,CAACH,GAAG,CAACI,UAAT,EAAqB;AACnBD,eAAO,GAAG,KAAKE,MAAL,CAAYF,OAAZ,EAAV;AACD;;AACD,UAAMG,KAAK,GAAWN,GAAG,CAACO,IAAJ,IAAY,KAAlC;AACA,aAAO,IAAIC,OAAJ,CAAiB,UAACC,OAAD,EAAUC,MAAV,EAAoB;AAAA;;AAC1CC,eAAO,CAACC,GAAR,CAAYX,MAAZ;AACAT,aAAK;AACHqB,gBAAM,EAAEP,KADL;AAEHQ,aAAG,YAAKnB,QAAL,SAAgBK,GAAG,CAACc,GAApB;AAFA,mCAGFR,KAAK,KAAG,KAAR,GAAc,QAAd,GAAuB,MAHrB,EAG8BL,MAH9B,0CAIU,IAAIT,KAAK,CAACuB,WAAV,CAAsB,UAACC,CAAD,EAAgB;AACjD,cAAGhB,GAAG,CAACiB,MAAP,EAAc;AACZjB,eAAG,CAACiB,MAAJ,CAAWD,CAAX,EADY,CACG;AAChB;AACF,SAJY,CAJV,WAAL,CASGE,IATH,CASQ,UAACC,GAAD,EAAQ;AACd,cAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtBX,mBAAO,CAACU,GAAG,CAACjB,IAAL,CAAP;AACD,WAFD,MAEO;AACLS,mBAAO,CAACC,GAAR,CAAY,OAAZ;AACD;AACF,SAfD,EAeGS,KAfH,CAeS,UAACC,KAAD,EAAU;AACjBZ,gBAAM,CAACY,KAAD,CAAN;AACEX,iBAAO,CAACC,GAAR,CAAYU,KAAZ;AACH,SAlBD,EAkBGC,OAlBH,CAkBW,YAAK;AACd,eAAI,CAAClB,MAAL,CAAYmB,IAAZ,CAAiBrB,OAAjB;AACD,SApBD;AAqBD,OAvBM,CAAP;AAwBD;AAnCyB;;AAAA;AAAA,EAASZ,GAAT,CAA5B;;AAAqBQ,OAAO,eAD3BN,cAC2B,GAAPM,OAAO,CAAP;eAAAA;AAsCrB,OAAO,IAAM0B,OAAO,GAAG,IAAI1B,OAAJ,EAAhB,C,CAA+B;;AAGtC","names":["Vue","axios","decoratorclass","target","BASE_URL","process","env","VUE_APP_BASE_PC","Service","opt","params","data","loading","notLoading","$layer","types","type","Promise","reslove","reject","console","log","method","url","CancelToken","c","cancel","then","res","status","catch","error","finally","hide","service"],"sourceRoot":"","sources":["/home/yd/company/demo/vue-cli3/src/pc-project/services/interfaces.ts"],"sourcesContent":["import { Vue } from 'vue-property-decorator';\nimport axios from 'axios';\nimport { User } from '@/domain/User';\nimport { Canceler } from 'axios';\n\nfunction decoratorclass(target: any) {\n  //   console.log(target);\n}\n\ntype Method = 'get' | 'GET' | 'delete' | 'DELETE' |\n'head' | 'HEAD' | 'options' | 'OPTIONS' | 'post' |\n'POST' | 'put' | 'PUT' | 'patch' | 'PATCH' | 'link' |\n'LINK' | 'unlink' | 'UNLINK' | undefined;\nexport type RequestParams = { url: string; data?: any; type?: Method; notLoading?: boolean, cancel?: Function }\nconst BASE_URL = process.env.VUE_APP_BASE_PC; // 全局接口地址\n\n@decoratorclass\nexport default class Service extends Vue {\n  request(opt: RequestParams) {\n    let params = {};\n    if (opt.data) {\n      params = opt.data;\n    }\n    let loading: any = null;\n    if (!opt.notLoading) {\n      loading = this.$layer.loading();\n    }\n    const types: Method = opt.type || 'get';\n    return new Promise<any>((reslove, reject) => {\n      console.log(params)\n      axios({\n        method: types,\n        url: `${BASE_URL}${opt.url}`,\n        [types==='get'?'params':'data']: params,\n        cancelToken: new axios.CancelToken((c: Canceler) => {\n          if(opt.cancel){\n            opt.cancel(c); // 这个参数 c 就是CancelToken构造函数里面自带的取消请求的函数，这里把该函数当参数用\n          }\n        }),\n      }).then((res) => {\n        if (res.status === 200) {\n          reslove(res.data);\n        } else {\n          console.log('error');\n        }\n      }).catch((error) => {\n        reject(error);\n          console.log(error);\n      }).finally(() => {\n        this.$layer.hide(loading);\n      });\n    });\n  }\n}\n\nexport const service = new Service(); // 减少页面上 new Service()； 直接调用 Service里面的方法\n\n\n/** 举例\n * @url接口地址\n * @data参数\n * @type请求方式 选填 默认post\n * @cancel是否取消当前请求\n * @notLoading不使用默认的loading弹出层\nservice.request({\n    url: `http://192.168.2.222:8005/Hotel/HotelDetailRoomPlanRate`,\n    data:{\"TripType\":\"0\"},\n    type: 'post',\n    cancel: (c: Canceler) => {\n      setTimeout(() => { // 条件\n        c('取消HotelDetailRoomPlanRate的请求');\n      },200)\n    }\n});\n*/\n"]}]}