{"remainingRequest":"/home/yd/company/demo/vue-cli3/node_modules/babel-loader/lib/index.js!/home/yd/company/demo/vue-cli3/node_modules/ts-loader/index.js??ref--13-2!/home/yd/company/demo/vue-cli3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/yd/company/demo/vue-cli3/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/yd/company/demo/vue-cli3/src/pc-project/components/aoto-query/fj-auto-complete.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/yd/company/demo/vue-cli3/src/pc-project/components/aoto-query/fj-auto-complete.vue","mtime":1644831193685},{"path":"/home/yd/company/demo/vue-cli3/babel.config.js","mtime":1644831193685},{"path":"/home/yd/company/demo/vue-cli3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/yd/company/demo/vue-cli3/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/yd/company/demo/vue-cli3/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/yd/company/demo/vue-cli3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/yd/company/demo/vue-cli3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUveWQvY29tcGFueS9kZW1vL3Z1ZS1jbGkzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS95ZC9jb21wYW55L2RlbW8vdnVlLWNsaTMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrLmpzIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvaG9tZS95ZC9jb21wYW55L2RlbW8vdnVlLWNsaTMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvaG9tZS95ZC9jb21wYW55L2RlbW8vdnVlLWNsaTMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzLmpzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvaG9tZS95ZC9jb21wYW55L2RlbW8vdnVlLWNsaTMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyLmpzIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUsIFByb3AsIEVtaXQsIE1vZGVsIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCB7IGdldFBvcywgc3RvcFByb3BhZ2F0aW9uLCBkZWJvdW5jZSB9IGZyb20gJ0AvdXRpbHMnOwovKioKICogPHNsb3Q+5LiK55qE6Ieq5a6a5LmJ5bGe5oCn77yM5Y+v5Lul5Zyo54i257uE5Lu25LiK5L2/55SoIDx0ZW1wbGF0ZSB2LXNsb3Q6YW90bz0ic2xvdFByb3BzIj57e3Nsb3RQcm9wcy5pdGVtfX08L3RlbXBsYXRlPiDojrflj5YKICogQGluaXQoZXZlbnQ6IGFueSwgbW9kZWxOYW1lOiBhbnkpICDniLbnu4Tku7bopoHosIPnlKjmraTmlrnms5XvvIznqb/lpoJldmVudOS7peWPinYtbW9kZWznmoTlsZ7mgKflkI3miJAKICogQGxpc3RTdHlsZeaOp+WItuW9k+WJjee7hOS7tueahOS9jee9rgogKiBAc2VsZWN0S2V5IOmAieS4reeahOmhueeahOWtl+auteWQjeensAogKiBAcmVxdWVzdEV2ZW50IOeItuS8oOi/h+adpeeahOivt+axguaVsOaNruaWueazlSBGdW5jdGlvbgogKi8KCnZhciBGakF1dG9Db21wbGV0ZUNvbXBvbmVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhGakF1dG9Db21wbGV0ZUNvbXBvbmVudCwgX1Z1ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoRmpBdXRvQ29tcGxldGVDb21wb25lbnQpOwoKICBmdW5jdGlvbiBGakF1dG9Db21wbGV0ZUNvbXBvbmVudCgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmpBdXRvQ29tcGxldGVDb21wb25lbnQpOwoKICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICBfdGhpcy5saXN0U3R5bGUgPSB7CiAgICAgICdwb2ludGVyLWV2ZW50cyc6ICdhdXRvJwogICAgfTsKICAgIF90aGlzLmJveFNob3cgPSBmYWxzZTsKICAgIF90aGlzLkFsbERhdGEgPSBbXTsKICAgIF90aGlzLmFvdG9lbXB0eWlzU2hvdyA9IGZhbHNlOwogICAgX3RoaXMuaW5wdXRIYW5kbGUgPSBkZWJvdW5jZShmdW5jdGlvbiAoZXZlbnQsIG1vZGVsKSB7CiAgICAgIHZhciB0aGF0ID0gX3RoaXMuZ2V0dGhpcygpOyAvLyDnlLHkuo7kvb/nlKggZm4gPSAoKSA9PiB7fSDkvJrlr7zoh7R0aGlz5aSx5pWI77yM5YWI5L2/55So5q2k5pa55rOV5Luj5pu/dGhpc++8jOWQjumdouS8mOWMlgoKCiAgICAgIHRoYXQuaW5pdChldmVudCk7CiAgICAgIHRoYXQuQWxsRGF0YSA9IFtdOwogICAgICB0aGF0LmFvdG9lbXB0eWlzU2hvdyA9IGZhbHNlOwoKICAgICAgX3RoaXMuY2hhbmdlRW1pdChldmVudC50YXJnZXQudmFsdWUpOwogICAgfSwgMTAwMCk7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoRmpBdXRvQ29tcGxldGVDb21wb25lbnQsIFt7CiAgICBrZXk6ICJjaGFuZ2VFbWl0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VFbWl0KGV2ZW50KSB7fQogIH0sIHsKICAgIGtleTogInNlbGVjdE5hbWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdE5hbWUoaXRlbSkgewogICAgICB0aGlzLmNoYW5nZUVtaXQoaXRlbVt0aGlzLnNlbGVjdEtleV0pOwogICAgICB0aGlzLmJveFNob3cgPSBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjcmVhdGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5ib3hTaG93ID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImdldHRoaXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldHRoaXMoKSB7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogIH0sIHsKICAgIGtleTogImNsaWNrSGFuZGxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbGlja0hhbmRsZShldmVudCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuaW5pdChldmVudCk7CiAgICAgIHRoaXMuYm94U2hvdyA9IGZhbHNlOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBzdG9wUHJvcGFnYXRpb24oZXZlbnQpOwogICAgICAgIF90aGlzMy5ib3hTaG93ID0gdHJ1ZTsKICAgICAgfSwgMTAwKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbml0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGRvbSA9IGV2ZW50LnRhcmdldDsKCiAgICAgIHZhciBfZ2V0UG9zID0gZ2V0UG9zKGRvbSk7CgogICAgICB0aGlzLmxpc3RTdHlsZSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5saXN0U3R5bGUpLCB7fSwgewogICAgICAgICd3aWR0aCc6ICIiLmNvbmNhdChfZ2V0UG9zLndpZHRoLCAicHgiKSwKICAgICAgICAnbGVmdCc6ICIiLmNvbmNhdChfZ2V0UG9zLmxlZnQsICJweCIpLAogICAgICAgICd0b3AnOiAiIi5jb25jYXQoX2dldFBvcy50b3AgKyBfZ2V0UG9zLmhlaWdodCwgInB4IikKICAgICAgfSk7CiAgICAgIHRoaXMuYm94U2hvdyA9IHRydWU7CgogICAgICBpZiAodGhpcy5yZXF1ZXN0RXZlbnQpIHsKICAgICAgICB0aGlzLnJlcXVlc3RFdmVudChldmVudC50YXJnZXQudmFsdWUsIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzNC5BbGxEYXRhID0gcmVzOwoKICAgICAgICAgIGlmIChfdGhpczQuQWxsRGF0YS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgX3RoaXM0LmFvdG9lbXB0eWlzU2hvdyA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJib3hFdmVudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYm94RXZlbnQoZXZlbnQpIHsKICAgICAgc3RvcFByb3BhZ2F0aW9uKGV2ZW50KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBGakF1dG9Db21wbGV0ZUNvbXBvbmVudDsKfShWdWUpOwoKX19kZWNvcmF0ZShbTW9kZWwoJ2NoYW5nZScsIHsKICB0eXBlOiBTdHJpbmcKfSldLCBGakF1dG9Db21wbGV0ZUNvbXBvbmVudC5wcm90b3R5cGUsICJzZWFyY2hDb2RlIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1Byb3AoKV0sIEZqQXV0b0NvbXBsZXRlQ29tcG9uZW50LnByb3RvdHlwZSwgInJlcXVlc3RFdmVudCIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm9wKHsKICBkZWZhdWx0OiAnTmFtZScsCiAgdHlwZTogU3RyaW5nCn0pXSwgRmpBdXRvQ29tcGxldGVDb21wb25lbnQucHJvdG90eXBlLCAic2VsZWN0S2V5Iiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW0VtaXQoJ2NoYW5nZScpXSwgRmpBdXRvQ29tcGxldGVDb21wb25lbnQucHJvdG90eXBlLCAiY2hhbmdlRW1pdCIsIG51bGwpOwoKRmpBdXRvQ29tcGxldGVDb21wb25lbnQgPSBfX2RlY29yYXRlKFtDb21wb25lbnRdLCBGakF1dG9Db21wbGV0ZUNvbXBvbmVudCk7CmV4cG9ydCBkZWZhdWx0IEZqQXV0b0NvbXBsZXRlQ29tcG9uZW50Ow=="},{"version":3,"mappings":"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","names":["Component","Vue","Prop","Emit","Model","getPos","stopPropagation","debounce","FjAutoCompleteComponent","event","model","that","getthis","init","AllData","aotoemptyisShow","changeEmit","target","value","item","selectKey","boxShow","document","addEventListener","setTimeout","dom","_getPos","listStyle","width","left","top","height","requestEvent","res","length","__decorate","type","String","default"],"sourceRoot":"","sources":["/home/yd/company/demo/vue-cli3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/yd/company/demo/vue-cli3/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/yd/company/demo/vue-cli3/src/pc-project/components/aoto-query/fj-auto-complete.vue?vue&type=script&lang=ts&"],"sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop, Emit, Model } from 'vue-property-decorator';\nimport { getPos, stopPropagation, debounce } from '@/utils';\nimport {service} from '@/pc-project/services/interfaces';\n\n/**\n * <slot>上的自定义属性，可以在父组件上使用 <template v-slot:aoto=\"slotProps\">{{slotProps.item}}</template> 获取\n * @init(event: any, modelName: any)  父组件要调用此方法，穿如event以及v-model的属性名成\n * @listStyle控制当前组件的位置\n * @selectKey 选中的项的字段名称\n * @requestEvent 父传过来的请求数据方法 Function\n */\n\n@Component\nexport default class FjAutoCompleteComponent extends Vue {\n    @Model('change', { type: String }) readonly searchCode!: string;\n    @Prop() private requestEvent!: Function;\n    @Prop({ default: 'Name', type: String }) private selectKey!: string;\n    \n    private listStyle: any = { 'pointer-events': 'auto' };\n    private boxShow = false;\n    private AllData: any[] = [];\n    private aotoemptyisShow = false;\n\n    @Emit('change') private changeEmit(event: any) {}\n\n    private selectName(item: any) { \n        this.changeEmit(item[this.selectKey]);\n        this.boxShow = false;\n    }\n       \n    created() {\n        document.addEventListener(\"click\", () => { this.boxShow = false;});\n    }\n\n    getthis() { return this; }\n    inputHandle = debounce((event: any, model:any) => {\n        const that = this.getthis(); // 由于使用 fn = () => {} 会导致this失效，先使用此方法代替this，后面优化\n        that.init(event);\n        that.AllData = [];\n        that.aotoemptyisShow = false;\n        this.changeEmit(event.target.value);\n    },1000)\n\n    clickHandle(event: any) {\n        this.init(event);\n        this.boxShow = false;\n        setTimeout(()=>{\n            stopPropagation(event);\n            this.boxShow = true;\n        },100)\n    }\n\n    init(event: any) {\n        const dom = event.target;\n        const _getPos = getPos(dom);\n        this.listStyle = {\n        ...this.listStyle,\n        'width': `${_getPos.width}px`,\n        'left': `${_getPos.left}px`,\n        'top': `${_getPos.top+_getPos.height}px`,\n        }\n        this.boxShow = true;\n        if(this.requestEvent){\n            this.requestEvent(event.target.value, (res: any) => {\n                this.AllData = res;\n                if(this.AllData.length === 0){\n                    this.aotoemptyisShow = true;\n                }\n            });\n        }\n        \n    }\n    boxEvent(event: any) {\n        stopPropagation(event);\n    }\n}\n"]}]}